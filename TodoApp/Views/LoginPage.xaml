<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:TodoApp.ViewModels"
             x:Class="TodoApp.Views.LoginPage"
             x:DataType="vm:LoginViewModel"
             Title="Logowanie"
             Shell.NavBarIsVisible="False"
             Shell.FlyoutBehavior="Disabled"
             Shell.BackButtonBehavior="{BackButtonBehavior IsVisible=False}">

    <Grid BackgroundColor="{AppThemeBinding Light=#F5F5F5, Dark=#121212}">

        <ScrollView HorizontalScrollBarVisibility="Never" VerticalScrollBarVisibility="Default">

            <Grid>
                <Border StrokeShape="RoundRectangle 20"
                        StrokeThickness="0"
                        Margin="20"
                        Padding="40"
                        HorizontalOptions="Center"
                        VerticalOptions="Center"
                        MaximumWidthRequest="600"
                        BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}">

                    <Border.Shadow>
                        <Shadow Brush="Black" Offset="0,5" Radius="10" Opacity="0.1"/>
                    </Border.Shadow>

                    <VerticalStackLayout Spacing="25">

                        <Image Source="logo.png" 
                               HeightRequest="140" 
                               HorizontalOptions="Center" 
                               Aspect="AspectFit" />

                        <Label Text="Witaj w TodoApp!" 
                               FontSize="28" 
                               FontAttributes="Bold" 
                               HorizontalOptions="Center" 
                               TextColor="{DynamicResource Primary}" />

                        <VerticalStackLayout Spacing="15">
                            <Entry Placeholder="Nazwa użytkownika" 
                                   Text="{Binding Username}" 
                                   HorizontalOptions="Fill"
                                   TextColor="{AppThemeBinding Light=Black, Dark=White}"
                                   BackgroundColor="{AppThemeBinding Light=#F8F9FA, Dark=#2C2C2C}"/>

                            <Entry Placeholder="Hasło" 
                                   IsPassword="True" 
                                   Text="{Binding Password}" 
                                   HorizontalOptions="Fill"
                                   TextColor="{AppThemeBinding Light=Black, Dark=White}"
                                   BackgroundColor="{AppThemeBinding Light=#F8F9FA, Dark=#2C2C2C}"/>
                        </VerticalStackLayout>

                        <VerticalStackLayout Spacing="15" Margin="0,15,0,0">
                            <Button Text="Zaloguj się" 
                                    Command="{Binding LoginCommand}" 
                                    HeightRequest="55" 
                                    CornerRadius="10"
                                    FontAttributes="Bold"
                                    FontSize="16" />

                            <Button Text="Nie masz konta? Zarejestruj się" 
                                    Command="{Binding GoToRegisterCommand}" 
                                    BackgroundColor="Transparent" 
                                    TextColor="{DynamicResource Primary}" 
                                    FontSize="15" 
                                    HorizontalOptions="Center"/>
                        </VerticalStackLayout>
                    </VerticalStackLayout>
                </Border>
            </Grid>
        </ScrollView>
    </Grid>
</ContentPage>