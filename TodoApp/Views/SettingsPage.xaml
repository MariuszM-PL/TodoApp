<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:TodoApp.ViewModels"
             x:Class="TodoApp.Views.SettingsPage"
             x:DataType="vm:SettingsViewModel"
             Title="Ustawienia">

    <ScrollView>
        <VerticalStackLayout Spacing="25" Padding="20">

            <VerticalStackLayout Spacing="10">
                <Label Text="Zmiana hasła" 
                       TextColor="{DynamicResource Primary}" 
                       FontSize="18" 
                       FontAttributes="Bold" />

                <Frame BackgroundColor="{DynamicResource CardBackground}" 
                       BorderColor="Transparent" 
                       CornerRadius="15" 
                       Padding="20">

                    <VerticalStackLayout Spacing="15">
                        <Entry Placeholder="Nowe hasło" 
                               Text="{Binding NewPassword}" 
                               IsPassword="True" />

                        <Button Text="Zatwierdź zmianę" 
                                Command="{Binding ChangePasswordCommand}" />
                    </VerticalStackLayout>
                </Frame>
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="10">
                <Label Text="Informacje o aplikacji" 
                       TextColor="{DynamicResource Primary}" 
                       FontSize="18" 
                       FontAttributes="Bold" />

                <Frame BackgroundColor="{DynamicResource CardBackground}" 
                       BorderColor="Transparent" 
                       CornerRadius="15" 
                       Padding="20">

                    <VerticalStackLayout Spacing="12">
                        <Grid ColumnDefinitions="Auto, *" RowDefinitions="Auto, Auto, Auto" RowSpacing="10">

                            <Label Grid.Row="0" Grid.Column="0" 
                                   Text="Wersja:" 
                                   TextColor="{DynamicResource GrayText}" 
                                   FontAttributes="Bold" 
                                   WidthRequest="80"/>
                            <Label Grid.Row="0" Grid.Column="1" 
                                   Text="1.0.0" 
                                   TextColor="{DynamicResource AppText}" />

                            <Label Grid.Row="1" Grid.Column="0" 
                                   Text="Autorzy:" 
                                   TextColor="{DynamicResource GrayText}" 
                                   FontAttributes="Bold" />
                            <Label Grid.Row="1" Grid.Column="1" 
                                   Text="Mariusz Mikołajczyk, Patrycja Dorszyńska" 
                                   TextColor="{DynamicResource AppText}" />

                            <Label Grid.Row="2" Grid.Column="0" 
                                   Text="Tech:" 
                                   TextColor="{DynamicResource GrayText}" 
                                   FontAttributes="Bold" />
                            <Label Grid.Row="2" Grid.Column="1" 
                                   Text=".NET MAUI (SQLite)" 
                                   TextColor="{DynamicResource AppText}" />
                        </Grid>

                        <BoxView HeightRequest="1" Color="{DynamicResource PrimaryDark}" Opacity="0.3" />

                        <Label Text="Aplikacja do zarządzania zadaniami z lokalną bazą danych." 
                               TextColor="{DynamicResource GrayText}" 
                               FontSize="13" 
                               HorizontalOptions="Center" 
                               HorizontalTextAlignment="Center"
                               Margin="0,5,0,0"/>
                    </VerticalStackLayout>
                </Frame>
                    
            </VerticalStackLayout>
            <Button Text="Wróć do zadań" 
                    Command="{Binding GoBackCommand}" 
                    Margin="0,20,0,0"
                    BackgroundColor="{DynamicResource CardBackground}"
                    TextColor="{DynamicResource Primary}"
                    BorderColor="{DynamicResource Primary}"
                    BorderWidth="1"/>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>